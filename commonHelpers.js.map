{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__3108d0c6__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport errorIcon from '../src/img/bi_x-octagon.svg';\nimport resolveIcon from '../src/img/bi_check2-circle.svg';\n\nconst searchForm = document.querySelector('.js-search-form');\nconst container = document.querySelector('.js-container');\n\nsearchForm.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  const name = e.target.elements.search.value;\n  getPictures(name).then(data => {\n    renderImages(data.hits);\n  });\n\n  searchForm.reset();\n}\n\nfunction onFormSubmit(e) {}\n\nfunction getPictures(picture) {\n  const BASE_URL = 'https://pixabay.com/api';\n  const searchParams = new URLSearchParams({\n    key: '42121827-736028e2edd071afefc989558',\n    q: `${picture}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const PARAMS = `?${searchParams}`;\n  const url = BASE_URL + PARAMS;\n\n  return fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(`HTTP error! Status: ${res.status}`);\n      }\n      return res.json();\n    })\n    .catch(error => {\n      console.error('Error fetching pictures:', error);\n      throw error; // Переброс ошибки для обработки в блоке catch при вызове getPictures\n    });\n}\n\nfunction imageTemplate(arr) {\n  return arr\n    .map(\n      ({ previewURL }) => `<div class=\"card-container\">\n    <div>\n        <img src=\"${previewURL}\" alt=\"#\" class=\"picture\">\n    </div>\n    <div>\n       <h4 class=\"picture-name\"></h4>\n       <p class=\"description\"></p>\n    </div>\n</div>`\n    )\n    .join('');\n}\n\nfunction renderImages(arr) {\n  container.innerHTML = '';\n  if (arr.length === 0) {\n    return iziToast.show({\n      title: 'Error',\n      titleColor: 'rgba(255, 255, 255, 1)',\n      message: `Rejected promise in ms`,\n      messageColor: 'rgba(255, 255, 255, 1)',\n      backgroundColor: 'rgba(239, 64, 64, 1)',\n      iconUrl: errorIcon,\n      position: 'topRight',\n    });\n  }\n  const markup = imageTemplate(arr);\n  container.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["errorIcon","searchForm","container","handleSubmit","e","name","getPictures","data","renderImages","picture","BASE_URL","PARAMS","url","res","error","imageTemplate","arr","previewURL","iziToast","markup"],"mappings":"svBAAA,MAAeA,EAAA,kDCKTC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAY,SAAS,cAAc,eAAe,EAExDD,EAAW,iBAAiB,SAAUE,CAAY,EAElD,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAEhB,MAAMC,EAAOD,EAAE,OAAO,SAAS,OAAO,MACtCE,EAAYD,CAAI,EAAE,KAAKE,GAAQ,CAC7BC,EAAaD,EAAK,IAAI,CAC1B,CAAG,EAEDN,EAAW,MAAK,CAClB,CAIA,SAASK,EAAYG,EAAS,CAC5B,MAAMC,EAAW,0BAQXC,EAAS,IAPM,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGF,IACN,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,IAEKG,EAAMF,EAAWC,EAEvB,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,uBAAuBA,EAAI,QAAQ,EAErD,OAAOA,EAAI,MACjB,CAAK,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,2BAA4BA,CAAK,EACzCA,CACZ,CAAK,CACL,CAEA,SAASC,EAAcC,EAAK,CAC1B,OAAOA,EACJ,IACC,CAAC,CAAE,WAAAC,CAAU,IAAO;AAAA;AAAA,oBAENA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOf,EACA,KAAK,EAAE,CACZ,CAEA,SAAST,EAAaQ,EAAK,CAEzB,GADAd,EAAU,UAAY,GAClBc,EAAI,SAAW,EACjB,OAAOE,EAAS,KAAK,CACnB,MAAO,QACP,WAAY,yBACZ,QAAS,yBACT,aAAc,yBACd,gBAAiB,uBACjB,QAASlB,EACT,SAAU,UAChB,CAAK,EAEH,MAAMmB,EAASJ,EAAcC,CAAG,EAChCd,EAAU,mBAAmB,YAAaiB,CAAM,CAClD"}